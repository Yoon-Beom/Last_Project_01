<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTO Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="mapper.board">
<resultMap id="boardResult" type="boardVO">
 	<result property="board_NO" column="board_NO" />
    <result property="member_NO" column="member_NO" />
    <result property="board_code" column="board_code" />
    <result property="board_screct" column="board_screct" />
    <result property="board_title" column="board_title" />
    <result property="board_name" column="board_name" />
    <result property="board_content" column="board_content" />
    <result property="board_Date" column="board_Date" />
    <result property="board_image" column="board_image" />
    <result property="board_score" column="board_score" />
    <result property="board_level" column="board_level" />
  </resultMap> 
  
  <select id="selectAllArticlesList" resultType="boardVO"   >
    <![CDATA[
      SELECT board_NO, board_title, board_name, board_Date, board_score
      from t_board where board_code=#{board_code}
      ORDER BY board_Date DESC		
    ]]>
  </select>
  
  <insert id="insertNewArticle"  parameterType="java.util.Map">
		<![CDATA[
			INSERT into t_board(board_NO, member_NO, board_code, board_title, board_name, board_content, board_image)
			VALUES(seq_member.nextval, #{member_NO}, #{board_code}, #{board_title}, #{board_name}, #{board_content}, #{board_image})
		]]>  
</insert>
 <select id="selectNewArticleNO" resultType="int"  >
		<![CDATA[
			SELECT  max(board_NO)+1 from t_board		
		]]>
	</select>
	<select id="selectArticle" resultType="boardVO"   parameterType="int">
    <![CDATA[
      SELECT * from t_board
      where board_NO = #{board_NO}		
    ]]>
    </select>
    <delete id="deleteArticle"  parameterType="int">
    <![CDATA[
      delete from t_board
      where board_NO = #{board_NO}
    ]]>      
  </delete>
  <update id="updateArticle"  parameterType="java.util.Map">
			update t_board
			set board_title=#{board_title},	 
			board_content=#{board_content}
			 <if test="board_image!='' and board_image!=null">
			  , board_image=#{board_image}
			</if>
			where board_NO=#{board_NO}
	</update>
  </mapper>